(()=>{"use strict";const e=(e,t,r,o)=>{const n=document.getElementById(e),a=n.querySelectorAll(t),l=o;let s=document.documentElement.clientWidth,c=0;const i=e=>{o=e<576?0:l,d(c)};if(window.addEventListener("resize",(()=>{s=document.documentElement.clientWidth,i(s)})),!n||!a)return;const d=e=>{a.forEach(((t,r)=>{r>e+o||r<e?t.classList.add("item__display"):(t.classList.remove("item__display"),o||(t.style.maxWidth=s+"px"))}))};n.addEventListener("click",(e=>{e.preventDefault(),e.target.closest(r)&&(e.target.closest(r+"--right")?c+=o+1:e.target.closest(r+"--left")&&(c-=o+1),c>=a.length&&(c=o?0:o+1),c<0&&(c=o?a.length-(o+1):a.length-1),d(c))})),i(s)},t=(e,t)=>{const r=document.querySelectorAll(e),o=document.querySelector("."+t),n=document.querySelector(".overlay"),a=(e,t)=>{e.classList.toggle(t)};r.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),a(o,t),n.style.display="block"}))})),o.addEventListener("click",(e=>{e.target.classList.contains(t+"__close")&&(a(o,t),n.style.display="none")}))};e("benefits",".benefits__item",".benefits__arrow",2),e("services",".col-md-12",".services__arrow",1),t(".service-button","services-modal"),t(".button","header-modal"),(e=>{const t=document.querySelectorAll(".count");let r=setInterval((()=>{let o=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{days:Math.floor(t/60/60/24),hours:Math.floor(t/60/60%24),minutes:Math.floor(t/60%60),seconds:Math.floor(t%60),timeRemaining:t}})();o.timeRemaining>0?t.forEach(((e,t)=>{var r;e.querySelector("span").textContent=(r=0===t||4===t?o.days:1===t||5===t?o.hours:2===t||6===t?o.minutes:o.seconds)<10?"0"+r:r})):(clearInterval(r),t.forEach((e=>{e.querySelector("span").textContent="00"})))}),1e3)})("26 january 2022"),(()=>{const e=document.querySelectorAll(".form-horizontal"),t=document.createElement("div");e.forEach((e=>{const r=e.querySelectorAll("input"),o=e.querySelector("button");r.forEach((e=>{e.addEventListener("input",(t=>{e.classList.remove("error"),(e=>{switch(e.target.name){case"fio":e.target.value=e.target.value.replace(/[^а-яА-Яa-zA-Z ]/g,"");break;case"phone":e.target.value=e.target.value.replace(/[^\+0-9]/,"")}})(t)}))})),o.addEventListener("click",(o=>{o.preventDefault(),((e,r,o)=>{let n={};var a;new FormData(r).forEach(((e,t)=>{n[t]=e})),(e=>{let t=!0;return e.forEach((e=>{let r,o="";switch(o=e.value.trim(),e.name){case"phone":r=/^[\+\d()]/g,(!r.test(e.value)||o.length>17)&&(e.classList.add("error"),t=!1);break;case"fio":r=/^[а-яА-Яa-zA-Z ]/g,(!r.test(e.value)||o.length<2)&&(e.classList.add("error"),t=!1)}})),t})(e)&&(a=n,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{o.forEach((e=>{"hidden"!=e.type&&(e.value="")})),t.textContent="заявка отправлена",r.querySelector(".order-form-button").before(t),setTimeout((()=>{t.textContent=""}),5e3)})).catch((e=>{console.log("Ошибка")}))})(r,e,r)}))}))})()})();