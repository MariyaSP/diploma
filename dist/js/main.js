(()=>{"use strict";const e=(e,t,o,l)=>{const n=document.getElementById(e),c=n.querySelectorAll(t),a=l;let s=document.documentElement.clientWidth,r=0;const d=e=>{l=e<576?0:a,i(r)};if(window.addEventListener("resize",(()=>{s=document.documentElement.clientWidth,d(s)})),!n||!c)return;const i=e=>{c.forEach(((t,o)=>{o>e+l||o<e?t.classList.add("item__display"):(t.classList.remove("item__display"),l||(t.style.maxWidth=s+"px"))}))};n.addEventListener("click",(e=>{e.preventDefault(),e.target.closest(o)&&(e.target.closest(o+"--right")?r+=l+1:e.target.closest(o+"--left")&&(r-=l+1),r>=c.length&&(r=l?0:l+1),r<0&&(r=l?c.length-(l+1):c.length-1),i(r))})),d(s)},t=(e,t)=>{const o=document.querySelectorAll(e),l=document.querySelector("."+t),n=document.querySelector(".overlay"),c=(e,t)=>{e.classList.toggle(t)};o.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),c(l,t),n.style.display="block"}))})),l.addEventListener("click",(e=>{e.target.classList.contains(t+"__close")&&(c(l,t),n.style.display="none")}))};e("benefits",".benefits__item",".benefits__arrow",2),e("services",".col-md-12",".services__arrow",1),t(".service-button","services-modal"),t(".button","header-modal"),(e=>{const t=document.querySelectorAll(".count");let o=setInterval((()=>{let l=(()=>{let t=(new Date(e).getTime()-(new Date).getTime())/1e3;return{days:Math.floor(t/60/60/24),hours:Math.floor(t/60/60%24),minutes:Math.floor(t/60%60),seconds:Math.floor(t%60),timeRemaining:t}})();l.timeRemaining>0?t.forEach(((e,t)=>{var o;e.querySelector("span").textContent=(o=0===t||4===t?l.days:1===t||5===t?l.hours:2===t||6===t?l.minutes:l.seconds)<10?"0"+o:o})):(clearInterval(o),t.forEach((e=>{e.querySelector("span").textContent="00"})))}),1e3)})("26 january 2022"),(()=>{const e=document.querySelectorAll(".form-horizontal"),t=document.createElement("div");e.forEach((e=>{const o=e.querySelectorAll("input"),l=e.querySelector("button");o.forEach((e=>{e.addEventListener("input",(t=>{e.classList.remove("error"),(e=>{switch(e.target.name){case"fio":e.target.value=e.target.value.replace(/[^а-яА-Яa-zA-Z ]/g,"");break;case"phone":e.target.value=e.target.value.replace(/[^\+0-9]/,"")}})(t)}))})),l.addEventListener("click",(l=>{l.preventDefault(),((e,o,l)=>{let n={};var c;new FormData(o).forEach(((e,t)=>{n[t]=e})),n.calcTotal=localStorage.calcTotal,console.log(n),(e=>{let t=!0;return e.forEach((e=>{let o,l="";switch(l=e.value.trim(),e.name){case"phone":o=/^[\+\d()]/g,(!o.test(e.value)||l.length>17)&&(e.classList.add("error"),t=!1);break;case"fio":o=/^[а-яА-Яa-zA-Z ]/g,(!o.test(e.value)||l.length<2)&&(e.classList.add("error"),t=!1)}})),t})(e)&&(c=n,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((e=>{l.forEach((e=>{"hidden"!=e.type&&(e.value="")})),t.textContent="заявка отправлена",o.querySelector(".order-form-button").before(t),setTimeout((()=>{t.textContent=""}),5e3)})).catch((e=>{console.log("Ошибка")}))})(o,e,o)}))}))})(),(()=>{const e=document.querySelector("body"),t=(e,t,o)=>{const l=document.getElementById("calc-total");if("--"===e.value||"--"===t.value||""===o.value)return l.value="",localStorage.calcTotal="",!1;l.value=(e.value*t.value*o.value).toFixed(1),localStorage.calcTotal=l.value};if(e.classList.contains("balkony")){const e=document.getElementById("calc-type"),o=document.getElementById("calc-type-material"),l=document.getElementById("calc-input");e.addEventListener("change",(()=>{t(e,o,l)})),o.addEventListener("change",(()=>{t(e,o,l)})),l.addEventListener("input",(()=>{l.value=l.value.replace(/[^0-9]/g,""),t(e,o,l)}))}})(),(()=>{const e=document.querySelector(".overlay"),t=document.querySelector("#documents").querySelectorAll(".sertificate-document"),o=document.querySelector(".smooth-scroll");let l="";t.forEach(((t,c)=>{t.addEventListener("mouseenter",(()=>{t.classList.add("document-inner")})),t.addEventListener("mouseleave",(()=>{t.classList.remove("document-inner")})),t.addEventListener("click",(t=>{t.preventDefault(),(t=>{document.querySelectorAll(".certif").forEach(((e,o)=>{e.style.display=o===t?"block":"none"})),n.querySelector(".fancybox-outer").style.display="block",e.style.display="block",o.style.display="none"})(c)})),l+=` <div class="order-call-modal box-modal certif" style="display: none;">\n                            <img src="${t.href}" alt="" style="height: 600px; width: 425px; "  >\n                            </div>`}));const n=document.createElement("div");n.setAttribute("class","document-modal  services-modal--opened"),n.innerHTML=` <div  style="padding: 0px; width: auto; height: auto;">\n        <div class="fancybox-outer"  style="display: none;">\n            <div class="fancybox-inner" >\n            ${l}\n            </div>\n            <span title="Close" class="services-modal__close">x</span>\n        </div>\n    `,document.querySelector(".smooth-scroll").after(n),n.querySelector(".services-modal__close").addEventListener("click",(()=>{n.querySelector(".fancybox-outer").style.display="none",e.style.display="none",o.style.display="block"}))})(),(()=>{const e=document.querySelector(".smooth-scroll"),t=document.querySelector("#benefits");e.style.display="none",document.addEventListener("scroll",(()=>{window.scrollY>=t.offsetTop?e.style.display="block":e.style.display="none"})),e.addEventListener("click",(()=>{window.scrollTo({behavior:"smooth",top:0})}))})()})();